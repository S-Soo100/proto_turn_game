# 새가 된 공기

| 항목 | 값 |
|---|---|
| **ID** | CR-GG001 |
| **게임** | gonggi |
| **상태** | draft |
| **생성일** | 2026-03-01 |
| **수정일** | 2026-03-01 |

---

## 요약

> 위로 던진 공깃돌이 갑자기 새로 변신해서 푸드득 날아가 버린다.

## 발동 조건

| 항목 | 값 |
|---|---|
| **최소 라운드** | 3 |
| **발동 타이밍** | 돌을 위로 던진 직후 (toss 완료 시점) |
| **발동 확률** | 0.25 (라운드별 가중 적용) |
| **중복 발동** | 불가 (같은 라운드에서 1회만) |

## 연출

### 시각 효과
1. 돌이 정상적으로 위로 올라감
2. 최고점 도달 시 돌이 **"퍽!"** 하고 새 모양으로 변신 (파티클 이펙트)
3. 새가 **푸드득** 날개짓하며 화면 밖으로 날아감
4. 바닥에 깃털 1~2개 떨어지는 연출
5. 플레이어 멘붕 타임 (1초 정지)

### 사운드 (향후)
- "퍽" 변신음
- 새 날개짓 소리 (푸드득)
- 작은 깃털 떨어지는 소리

### 타이밍
| 단계 | 시간 | 설명 |
|---|---|---|
| 예고 | 0ms | 없음 (갑작스러움이 핵심) |
| 변신 | 300ms | 돌 → 새 모핑 + 파티클 |
| 날아감 | 800ms | 새가 화면 밖으로 날아감 |
| 깃털 | 500ms | 깃털 떨어지는 연출 |
| 결과 | 1000ms | "...?" 텍스트 + 게임 복귀 |

## 게임 영향

- **돌 상태 변화**: 던진 돌 1개가 **영구 소멸** (해당 라운드에서 돌 4개로 진행)
- **단계 영향**: 현재 단계 실패 처리, 돌이 부족하므로 단계 재시작 시 돌 5개로 리셋
- **점수 영향**: 없음 (실패 횟수에만 반영)
- **후속 효과**: 없음

## 구현 가이드

### 데이터 구조
```typescript
{
  id: 'CR-GG001',
  name: '새가 된 공기',
  trigger: 'after-toss',
  minRound: 3,
  probability: 0.25,
  execute: (state: GonggiState) => ({
    type: 'stone-lost',
    stoneIndex: state.tossedStoneIndex,
    animation: 'bird-transform',
    message: '...?',
  }),
}
```

### 필요한 애니메이션
- 돌 → 새 모핑: Framer Motion `animate` (scale + rotate + 스프라이트 교체)
- 새 날아감: Framer Motion `animate` (x, y 곡선 이동 + opacity fadeout)
- 깃털: CSS keyframes (느린 낙하 + 좌우 흔들림)
- 새 mock-up: 간단한 SVG 또는 이모지 (🐦)

### 참고 패턴
- `TargetCircle.tsx`의 피드백 애니메이션 (hit → fadeout)

## 열받음 지수

| 항목 | 값 |
|---|---|
| **열받음 정도** | ★★★★☆ |
| **웃김 정도** | ★★★★★ |
| **예측 가능성** | 낮음 (갑자기 발동) |

## 메모

- 처음 겪으면 "뭐야?!" 하고 웃기고, 두 번째부터 "또?!" 하고 열받는 패턴
- 새 에셋은 mock-up에서 🐦 이모지로 시작 → 나중에 귀여운 새 일러스트로 교체
