# 무한 증식

| 항목 | 값 |
|---|---|
| **ID** | CR-GG005 |
| **게임** | gonggi |
| **상태** | draft |
| **생성일** | 2026-03-01 |
| **수정일** | 2026-03-01 |

---

## 요약

> 위로 던진 돌 1개가 공중에서 3개로 쪼개진다. 진짜 돌은 하나뿐인데 어느 걸 잡아야 할지 모른다.

## 발동 조건

| 항목 | 값 |
|---|---|
| **최소 라운드** | 4 |
| **발동 타이밍** | 돌을 위로 던진 직후 (after-toss) |
| **발동 확률** | 0.25 (라운드별 가중 적용) |
| **중복 발동** | 불가 (같은 라운드에서 1회만) |

## 연출

### 시각 효과
1. 돌을 정상적으로 위로 던짐
2. 최고점 근처에서 돌이 **"뻥!"** 하고 3개로 쪼개짐 (파티클 이펙트)
3. 3개의 돌이 각각 **다른 포물선 궤적**으로 떨어짐
4. 3개 모두 동일한 외형 (구분 불가)
5. 플레이어가 하나를 터치/클릭하여 잡기 시도
6. 진짜 돌을 잡으면: **"정답!"** + 나머지 2개 **"뿅"** 사라짐 → 성공
7. 가짜 돌을 잡으면: 잡은 돌이 **"뿅"** 연기와 함께 사라짐 + **"땡!"** → 실패

### 사운드 (향후)
- "뻥!" 쪼개지는 소리
- "뿅" 가짜 돌 사라지는 소리
- "땡!" 실패 사운드

### 타이밍
| 단계 | 시간 | 설명 |
|---|---|---|
| 예고 | 0ms | 없음 |
| 쪼개짐 | 300ms | 1개 → 3개 분열 + 파티클 |
| 낙하 | 800~1200ms | 3개가 각각 다른 궤적으로 떨어짐 |
| 선택 | 제한시간 내 | 플레이어가 하나를 선택 |
| 결과 | 500ms | 정답/오답 피드백 |

## 게임 영향

- **돌 상태 변화**: 가짜 돌 2개가 임시로 추가됨 (선택 후 사라짐)
- **단계 영향**: 가짜를 잡으면 단계 **실패**, 진짜를 잡으면 **성공**
- **점수 영향**: 없음
- **후속 효과**: 없음 (1회성)

## 구현 가이드

### 데이터 구조
```typescript
{
  id: 'CR-GG005',
  name: '무한 증식',
  trigger: 'after-toss',
  minRound: 4,
  probability: 0.25,
  execute: (state: GonggiState) => ({
    type: 'stone-split',
    animation: 'split-three',
    message: '어...?',
    realIndex: Math.floor(Math.random() * 3), // 0, 1, 2 중 진짜 위치
    fakeCount: 2,
  }),
}
```

### 필요한 애니메이션
- 쪼개짐: Framer Motion — 1개 돌이 `scale: [1, 1.3, 0]` 하며 사라지고, 동시에 3개가 `scale: [0, 1]`로 등장
- 3개 낙하: matter.js — 각각 다른 초기 속도 벡터로 포물선 궤적
- 가짜 사라짐: Framer Motion `scale: [1, 1.2, 0]` + `opacity: [1, 0]` + 연기 파티클
- 진짜 확인: 선택한 돌에 ✅ 반짝 이펙트

### 참고 패턴
- CR-GG001(새가 된 공기)의 돌 변환 애니메이션
- `TargetCircle.tsx`의 hit/miss 피드백

## 열받음 지수

| 항목 | 값 |
|---|---|
| **열받음 정도** | ★★★☆☆ |
| **웃김 정도** | ★★★★☆ |
| **예측 가능성** | 중간 (쪼개지는 건 보이지만 정답은 모름) |

## 메모

- 1/3 확률의 운 게임 — 실력이 아닌 운으로 실패하면 더 열받음
- 3개 돌의 낙하 궤적을 비슷하게 하면 구분이 더 어려워짐
- 라운드가 높아질수록 쪼개지는 개수를 4~5개로 늘리는 변형도 가능 (후속 개선)
- CR-GG001(새)과 같은 `after-toss` 타이밍이지만, 새는 돌이 사라지고 이것은 늘어나므로 체감이 다름
