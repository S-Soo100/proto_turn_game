# 가짜 클리어

| 항목 | 값 |
|---|---|
| **ID** | CR-GG004 |
| **게임** | gonggi |
| **상태** | draft |
| **생성일** | 2026-03-01 |
| **수정일** | 2026-03-01 |

---

## 요약

> 단계를 클리어하면 화려한 축하 연출이 뜨지만, 갑자기 되감기되며 "아 잠깐, 아직이요 ㅋ" 하고 단계가 리셋된다.

## 발동 조건

| 항목 | 값 |
|---|---|
| **최소 라운드** | 3 |
| **발동 타이밍** | 단계 전환 시 (stage-transition) |
| **발동 확률** | 0.20 (라운드별 가중 적용) |
| **중복 발동** | 불가 (같은 라운드에서 1회만) |

## 연출

### 시각 효과
1. 단계 성공 판정됨
2. **"축하합니다! N단 클리어!"** 텍스트 (큰 폰트, 금색)
3. 🎉🎊 파티클 폭죽 이펙트 (좌우에서 터짐)
4. 진행 바가 다음 단계로 올라가는 애니메이션
5. 2초간 축하 분위기...
6. 갑자기 화면에 **VHS 되감기 이펙트** (수평 노이즈 라인 + 살짝 흔들림)
7. 모든 연출이 **역재생**되듯 빨려 들어감
8. **"아 잠깐, 아직이요 ㅋ"** 텍스트 (작은 폰트, 회색, 건조한 톤)
9. 돌 리셋, 이전 단계 재시작

### 사운드 (향후)
- "짜잔~" 축하 팡파레
- "삐리리리" VHS 되감기 소리
- "뚜둥" 되감기 완료음

### 타이밍
| 단계 | 시간 | 설명 |
|---|---|---|
| 축하 시작 | 500ms | 텍스트 + 파티클 등장 |
| 축하 유지 | 1500ms | 플레이어가 "오 클리어!" 하고 방심하는 구간 |
| 되감기 | 800ms | VHS 이펙트 + 역재생 |
| 결과 | 1000ms | "아 잠깐, 아직이요 ㅋ" + 게임 복귀 |

## 게임 영향

- **돌 상태 변화**: 돌 5개 바닥에 재배치 (리셋)
- **단계 영향**: 현재 단계 **재시도** (성공이 취소됨)
- **점수 영향**: 없음 (실패 횟수에 반영)
- **후속 효과**: 축하 연출 시간(~3.8초)이 클리어 타임에 포함 → 이중 불리

## 구현 가이드

### 데이터 구조
```typescript
{
  id: 'CR-GG004',
  name: '가짜 클리어',
  trigger: 'stage-transition',
  minRound: 3,
  probability: 0.20,
  execute: (state: GonggiState) => ({
    type: 'stage-reset',
    animation: 'fake-clear',
    message: '아 잠깐, 아직이요 ㅋ',
    fakeStage: state.stage + 1,
  }),
}
```

### 필요한 애니메이션
- 축하 텍스트: Framer Motion `scale: [0, 1.2, 1]` + 금색 글로우
- 파티클 폭죽: CSS keyframes (여러 개 원형 파티클이 퍼지며 떨어짐)
- VHS 되감기: CSS `filter` + 수평 노이즈 라인 (pseudo element) + `transform: scaleX(-1)` 깜빡
- 역재생 흡입: Framer Motion `scale: [1, 0]` + `opacity: [1, 0]` (빨려 들어가는 느낌)
- "아 잠깐" 텍스트: Framer Motion `opacity: [0, 1]` (건조하게 등장)

### 참고 패턴
- `GamePage.tsx`의 결과 바텀시트 애니메이션
- `ReactionSpeedPage.tsx`의 result 오버레이

## 열받음 지수

| 항목 | 값 |
|---|---|
| **열받음 정도** | ★★★★★ |
| **웃김 정도** | ★★★★☆ |
| **예측 가능성** | 낮음 (진짜 클리어인 줄 알았음) |

## 메모

- CR-GG002(고양이 습격)과 다른 점: 고양이는 성공 "직전"에 끊지만, 이것은 성공 "후"에 되돌림
- 2초간 "클리어했다!"는 확신을 심어놓고 빼앗는 게 핵심
- "아 잠깐, 아직이요 ㅋ"의 건조한 톤이 열받음을 극대화
- 5단 클리어 후 발동하면 역대급 열받음 — 하지만 5단은 마지막이라 stage-transition이 없음. 4단→5단 전환 시가 최대 열받음 포인트
