# CR-GG001 "새가 된 공기" 연출 구현

| 항목 | 값 |
|---|---|
| **ID** | T-GG005 |
| **에픽** | E-GG001 |
| **게임** | gonggi |
| **상태** | draft |
| **우선순위** | medium |
| **담당** | claude |
| **생성일** | 2026-03-01 |
| **수정일** | 2026-03-01 |
| **브랜치** | feature/T-GG005-bird-chaos |
| **의존** | T-GG004, T-GG002 |
| **차단** | — |

---

## 요약

> CR-GG001 "새가 된 공기" 변칙 룰의 애니메이션과 게임 로직 연동을 구현한다.

## 상세 설명

스펙: `planning/gonggi/chaos-rules/CR-GG001.md` 참조

### 구현 범위
1. 룰 정의 + 엔진 등록
2. 돌 → 새 변신 애니메이션 (Framer Motion)
3. 새 날아감 애니메이션
4. 깃털 떨어지기 이펙트
5. "...?" 메시지 표시
6. 게임 상태 반영 (돌 소멸 → 단계 실패)

### Mock-up 에셋
- 새: 🐦 이모지 (나중에 SVG/이미지 교체)
- 깃털: CSS로 작은 곡선 도형 (rotate + 느린 낙하)

## 구현 가이드

### 수정할 파일
| 파일 | 변경 내용 |
|---|---|
| `src/lib/game-logic/chaos-rules/bird-transform.ts` | **신규** — 룰 정의 + execute 함수 |
| `src/components/game/chaos/BirdTransformEffect.tsx` | **신규** — 변신 + 날아감 애니메이션 |
| `src/lib/game-logic/gonggi-chaos.ts` | bird-transform 룰 등록 |

### 참고 패턴
- `TargetCircle.tsx`의 hit 피드백 (opacity + y 이동 + scale)
- Framer Motion `variants` + `AnimatePresence`로 등장/퇴장 시퀀스

## 수락 기준

- [ ] 돌 → 새 변신 애니메이션이 자연스러움
- [ ] 새가 화면 밖으로 날아가며 사라짐
- [ ] 깃털 이펙트가 표시됨
- [ ] 변칙 룰 발동 후 해당 단계가 실패 처리됨
- [ ] `pnpm build` 성공

## 관련 변칙 룰

| ID | 이름 |
|---|---|
| CR-GG001 | 새가 된 공기 |

## 메모

- 변신 모핑은 scale(1→0) + rotate(0→360) + 새 이모지 scale(0→1)로 간단히 구현 가능
- 연출 총 시간: ~2.6초 (사용자가 체감하기에 적당한 길이)
