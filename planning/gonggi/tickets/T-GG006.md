# CR-GG002 "고양이 습격" 연출 구현

| 항목 | 값 |
|---|---|
| **ID** | T-GG006 |
| **에픽** | E-GG001 |
| **게임** | gonggi |
| **상태** | draft |
| **우선순위** | medium |
| **담당** | claude |
| **생성일** | 2026-03-01 |
| **수정일** | 2026-03-01 |
| **브랜치** | feature/T-GG006-cat-chaos |
| **의존** | T-GG004, T-GG002 |
| **차단** | — |

---

## 요약

> CR-GG002 "고양이 습격" 변칙 룰의 애니메이션과 게임 로직 연동을 구현한다.

## 상세 설명

스펙: `planning/gonggi/chaos-rules/CR-GG002.md` 참조

### 구현 범위
1. 룰 정의 + 엔진 등록
2. "성공!" 페이크 텍스트 (희망 고문)
3. 고양이 손 슬라이드인 애니메이션
4. 돌 타격 → matter.js 물리 산란
5. 고양이 손 슬라이드아웃
6. "야옹~" 메시지 표시
7. 게임 상태 반영 (돌 산란 → 단계 실패)

### Mock-up 에셋
- 고양이 손: 🐾 이모지 + CSS 팔 실루엣 (둥근 사각형)
- 나중에 고양이 팔 일러스트로 교체

## 구현 가이드

### 수정할 파일
| 파일 | 변경 내용 |
|---|---|
| `src/lib/game-logic/chaos-rules/cat-swipe.ts` | **신규** — 룰 정의 + execute 함수 |
| `src/components/game/chaos/CatSwipeEffect.tsx` | **신규** — 고양이 손 + 돌 산란 애니메이션 |
| `src/lib/game-logic/gonggi-chaos.ts` | cat-swipe 룰 등록 |

### 참고 패턴
- `TargetCircle.tsx`의 decoy wiggle 애니메이션 (`x: [0, -8, 8, -6, 6, 0]`)
- matter.js `Body.applyForce()`로 돌에 충격량 적용
- Framer Motion `useAnimationControls`로 시퀀스 제어

## 수락 기준

- [ ] "성공!" 페이크 텍스트가 잠깐 보였다 사라짐
- [ ] 고양이 손이 화면 밖에서 자연스럽게 등장
- [ ] 돌이 matter.js 물리로 사방에 튕겨 나감
- [ ] "야옹~" 메시지 표시 후 단계 재시작
- [ ] 고양이 손 등장 방향이 랜덤 (왼/오/위)
- [ ] `pnpm build` 성공

## 관련 변칙 룰

| ID | 이름 |
|---|---|
| CR-GG002 | 고양이 습격 |

## 메모

- **핵심 포인트**: "성공!" 이 보이려다 사라지는 희망 고문이 열받음의 정수
- 5단(꺾기) 성공 직전에 발동하면 열받음 MAX
- 고양이 손 슬라이드 속도는 빠르게 (0.2초) — 반응할 틈 없이 당하는 느낌
