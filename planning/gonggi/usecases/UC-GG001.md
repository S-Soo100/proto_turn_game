# UC-GG001: 공기놀이 싱글 플레이 (변칙 룰 포함)

| 항목 | 값 |
|---|---|
| **ID** | UC-GG001 |
| **게임** | gonggi |
| **상태** | draft |
| **생성일** | 2026-03-01 |

---

## 액터
- 로그인한 사용자

## 사전 조건
- 사용자가 홈 화면에 있음

## 기본 시나리오

1. 사용자가 홈 화면에서 "공기놀이" 카드를 클릭한다
2. `/gonggi` 페이지로 이동하고 바로 게임이 시작된다 (모드 선택 없음)
3. 타이머가 시작된다 (클리어 시간 측정)
4. 공깃돌 5개가 바닥에 랜덤으로 뿌려진다
5. **1단**: 돌 1개를 플릭으로 위로 던지고, 바닥 돌 1개를 스와이프로 집고, 떨어지는 돌을 잡는다 (4회 반복)
6. **2단**: 돌 1개를 던지고, 바닥 돌 2개씩 스와이프로 집는다 (2회 반복)
7. **3단**: 돌 1개를 던지고, 바닥 돌 3개 + 1개를 집는다
8. **4단**: 돌 1개를 던지고, 바닥 돌 4개를 한번에 집는다
9. **5단 (꺾기)**: 5개를 위로 던져 손등으로 받고, 다시 던져 잡는다
10. 결과 화면이 표시된다 (성공, 클리어 시간, 실패 횟수, 변칙 생존 횟수)
11. 클리어 시간이 리더보드에 자동 저장된다
12. 리더보드 버튼을 눌러 순위표를 확인할 수 있다

## 변칙 룰 시나리오

### V1: 라운드 1~2 (정상 구간)
- 변칙 룰이 발동하지 않음
- 플레이어가 "정상적인 공기놀이"로 인식

### V2: 라운드 3+ (변칙 발동)
- 돌을 던진 직후 / 집으려는 순간 / 성공 직전에 변칙 룰이 랜덤 발동
- 예: 던진 돌이 새로 변해 날아감 (CR-GG001)
- 예: 고양이 손이 돌을 다 쳐냄 (CR-GG002)
- 변칙 룰 연출 후 해당 단계 실패 → 재시도

## 대안 시나리오

### A1: 조작 실패 (제한시간 초과)
- 제한시간 내에 동작을 완료하지 못하면
- 현재 단계가 실패로 처리됨
- 해당 단계를 처음부터 다시 시도

### A2: 중도 포기
- 플레이 중 "나가기" 버튼을 클릭하면
- 확인 다이얼로그 표시
- 확인 시 홈으로 이동 (기록 미저장)

## 예외 시나리오

### E1: 네트워크 오류
- 리더보드 저장 실패 시 에러 메시지 표시
- 재시도 버튼 제공

## 검증 방법

- [ ] 카드 클릭 시 바로 게임 시작 (모드 선택 없음)
- [ ] 1단~5단 전체 클리어 가능
- [ ] 라운드 3+에서 변칙 룰이 발동함
- [ ] 변칙 룰 발동 시 해당 단계 실패 + 재시도
- [ ] 각 단계에서 제한시간 초과 시 실패 + 재시도
- [ ] 클리어 시 결과 화면에 클리어 시간, 실패 횟수, 변칙 생존 횟수 표시
- [ ] 클리어 시간이 리더보드에 자동 저장됨
- [ ] 리더보드에서 상위 기록 + 내 기록 확인 가능
- [ ] 모바일에서 터치 조작이 자연스러움
