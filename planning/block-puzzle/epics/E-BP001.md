# 블록 퍼즐 MVP

| 항목 | 값 |
|---|---|
| **ID** | E-BP001 |
| **게임** | block-puzzle |
| **상태** | draft |
| **우선순위** | high |
| **작성자** | Claude |
| **생성일** | 2026-02-27 |
| **수정일** | 2026-02-27 |

---

## 목표

Block Blast류 블록 퍼즐 게임의 MVP를 구현한다. 8x8 격자에 블록 조각을 드래그하여 배치하고, 줄 완성 시 제거 + 점수 획득, 배치 불가 시 게임 오버.

## 배경

리서치 결과(`planning/block-puzzle/research/`) 타입 B(Block Blast류)가 프로젝트에 가장 적합하다고 결론. 2025년 전 세계 다운로드 1위 장르이며, 기존 격자 기반 렌더링 경험을 활용할 수 있다.

## 범위

### 포함
- 게임 로직 (`block-puzzle.ts`): 격자 관리, 배치 판정, 줄 완성/제거, 점수, 게임 오버
- 보드 컴포넌트 (`BlockPuzzleBoard.tsx`): 격자 렌더링, 드래그 앤 드롭, 줄 제거 애니메이션
- 블록 조각 정의: 테트로미노 + 변형 셰이프 (10~15종)
- 점수 시스템: 현재 점수, 하이스코어 (로컬 저장)
- HomePage에 블록 퍼즐 카드 추가
- GamePage에서 블록 퍼즐 보드 렌더링

### 제외
- Supabase에 하이스코어 저장 (추후 에픽)
- Woodoku 모드 (추후 에픽)
- 일일 도전 / 랭킹

## 티켓 목록

| ID | 제목 | 상태 | 담당 | 의존성 |
|---|---|---|---|---|
| T-BP001 | 블록 퍼즐 게임 로직 구현 | draft | claude | — |
| T-BP002 | 블록 퍼즐 보드 컴포넌트 + 드래그 앤 드롭 | draft | claude | T-BP001 |
| T-BP003 | 블록 퍼즐 페이지 통합 + 홈 카드 추가 | draft | claude | T-BP002 |

## 유즈케이스 목록

| ID | 제목 | 상태 |
|---|---|---|
| UC-BP001 | 블록 배치 + 줄 제거 기본 플로우 | draft |
| UC-BP002 | 게임 오버 + 재시작 | draft |

## 기술 고려사항

- DB 변경: `game_types`에 `block-puzzle` 행 추가 (SQL Editor 실행) — 하이스코어 저장 시
- 드래그 앤 드롭: HTML5 DnD API 또는 터치 이벤트 직접 처리 (모바일 우선)
- 블록 조각 렌더링: 고정 크기 셀 + 색상 구분
- 점수: 줄 1개 = 기본 점수, 동시 여러 줄 = 콤보 보너스

## 완료 기준

- [ ] 모든 티켓이 done 상태
- [ ] 8x8 격자에 블록 배치 + 줄 완성 시 제거 동작
- [ ] 드래그 앤 드롭이 모바일 터치에서 정상 작동
- [ ] 게임 오버 + 점수 표시 + 재시작 가능
- [ ] `pnpm build` 성공
- [ ] `.claude/rules/` 문서 최신화 완료
